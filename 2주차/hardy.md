## 액션과 계산, 데이터의 차이 알기

### 모든 개발 과정에서 단계를 구분할 수 있습니다.

**문제에 대해 생각할 때**

코딩을 시작하기 전 문제에 대해 고민할 때 각 단계별로 나눠 생각해 볼 수 있습니다. 각 단계로 나눠보면 코드를 작성할 때 특별히 주의해야 할 부분(액션)과 데이터로 처리해야 할 부분, 결정을 내려야하는 부분을 명확히 알 수 있습니다. 

**코딩할 때**

코딩을 하며 단계를 나눌 수 있습니다. 코드를 작성하며 최대한 액션에서 계산을 빼내려고 합니다. 그리고 계산에서 데이터를 분리할 수 있는지 생각하며 고민합니다.

**코드를 읽을 때**

코드를 읽을 때 특히 리팩터링을 할 때 액션과 계산, 데이터 중 어떤 것에 속하는지 살피고 숨어있는 액션을 찾아내 더 좋은 코드로 만드려고 합니다.

### 액션 안에는 계산과 데이터, 또 다른 액션이 숨어 있을 수 있습니다.

![스크린샷 2023-09-08 오후 7 45 14](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/1c6a2ba3-e22d-4de8-8af9-5e933c50f803)

위의 장보기 예제로 액션과 계산 데이터를 나눠봅시다. 주어진 문장으로만 판단하면 아래와 같은 결과가 나옵니다.

![](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/ce1bdd63-b0b1-4d1e-baf8-af55bca4365c)

주어진 문장을 단순하게 각 단계로 나누면 모든게 액션으로 나뉩니다. 모든 것을 액션으로 나뉘는건 무언가 잘 못 됐습니다. 문제에 대해 생각할 때 단순하게 보이는 정보만으로 단계를 나누는것 보다 액션에서 계산, 데이터로 뺄 부분이 있는지, 액션이 정말 하나인지 생각해보며 단계를 나누는 것이 좋습니다.

**냉장고 확인하기**

![스크린샷 2023-09-08 오후 7 52 10](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/ca740a68-0e36-4b78-b3b6-a76f0642041e)

냉장고를 확인하는 것은 액션입니다. 하지만 냉장고 안의 재고는 데이터입니다. 현재 재고를 통해 무엇이 필요한지 알 수 있습니다. 액션에서 데이터를 확인할 수 있었습니다. 

**운전해서 상점으로 가기**

![스크린샷 2023-09-08 오후 7 54 33](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/ac1554c4-b344-4650-a3fd-81a5b4e59ba9)

운전해서 상점으로 가는 것은 행동입니다. 때문에 액션으로 분류되고 굳이 데이터를 꼽자면 상점의 위치, 경로가 될 수 있습니다. 

**필요한 것 구입하기**

![스크린샷 2023-09-08 오후 7 58 51](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/a39c784f-fee7-4a86-ba20-7b25b827fb81)

구입하는 것도 행동이니 액션입니다. 하지만 필요한 것을 구입하려면 무엇이 필요한지 알아야합니다. 필요한 것을 알기 위해 `필요한 재고 - 현재 재고 = 장보기 목록` 이라는 계산을 진행해 장보기 목록이라는 새로운 데이터를 만듭니다. 행동을 하기 위해 무엇이 필요한지 생각해보니 계산과 데이터로 나눌 수 있었습니다. 

**숨어있는 액션**

![스크린샷 2023-09-08 오후 8 55 47](https://github.com/FrontendStudySeoul/SsogSsogFunctionalCoding/assets/59603529/60548967-915a-462e-a3b5-26ebc335e22c)

액션이 숨어있을 수 있습니다. 숨어있는 액션을 찾아 더 세부적인 액션으로 나눌 수 있습니다. `목록에 있는 것 구입하기`를 `물건 장바구니에 담기`, `계산하기`로 나눌 수 있습니다. 이렇게 액션을 세부적으로 나누게되면 숨어있던 계산 또는 데이터를 발견할 수 있습니다. 위처럼 액션에서 `장바구니 목록`이라는 데이터와 `담은 물건 목록에서 빼기`, `장바구니 목록 계산` 이라는 계산을 발견할 수 있습니다.

### 장보기 예제로 배운 것

1. **액션과 계산, 데이터는 어디에나 적용할 수 있습니다.**
2. **액션 안에는 계산과 데이터, 또 다른 액션이 숨어있을 수 있습니다.**
    
    위의 예제 처럼 단순해보이는 액션 안에 많은 것들이 숨어있었습니다. 액션을 더 작은 액션과 계산, 데이터로 나누는 것이 좋고 어디까지 나눠야하는지 아는 것이 중요합니다.
    
3. **계산은 더 작은 계산과 데이터로 나누고 연결할 수 있습니다.**
    
    예제에서 나오진 않은 상황이지만 계산을 더 작게 나누면 좋을 때도 있습니다. 큰 계산을 작게 나누면 재사용할 수 있거나, 테스트에 용이해집니다. 계산을 나누면 첫 번째 계산의 결과가 두 번째 계산의 입력이 됩니다.
    
4. **데이터는 데이터만 조합할 수 있습니다.**
    
    데이터는 다른 영향을 주지 않는 그냥 데이터입니다. 그래서 데이터를 먼저 찾으면 동작에 대해 많은 것을 알 수 있습니다.
    
5. **계산은 때로 우리 머릿속에서 일어납니다.**
    
    처음에 예제를 단순히 액션으로만 나눈 것은 우리 사고 과정에 계산과 데이터가 녹아있기 때문입니다. 장을 보기 위해 목록을 작성하지 않듯이 우리 머릿속에는 계산과 데이터가 항시 떠오릅니다. 때문에 처음부터 계산과 데이터를 구분하기 쉽지 않습니다. 하지만 어떤 단계에서 무엇인가 결정해야 할 것이 있는지, 또는 무엇인가 계획해서 방법을 찾아야 할 것이 있는지 생각해보면 쉽게 액션에서 계산과 데이터를 구분할 수 있습니다. 결정과 계획은 계산이 될 가능성이 높기 때문입니다.
    

### 액션은 코드 전체로 퍼집니다.

```jsx
function figurePayout(affiliate) {
	var owed = affiliate.sales * affiliate.commission;
	if(owed > 100) {
		sendPayout(affiliate.bank_code, owed) // 액션 함수
	}
}

function affiliatePayout() {
	...
	figurePayout(affiliate[a])
}

function main() {
	affiliatePayout()
}
```

액션을 부르는 함수가 있다면 그 함수는 액션이 됩니다. 때문에 위 코드는 모든 함수가 액션이라고 볼 수 있습니다. 이런 식으로 작은 액션 하나가 코드 전체로 퍼져나갈 수 있습니다.

### 액션의 다양한 형태

아래의 코드들은 모두 액션입니다. 

**함수 호출**

```jsx
alert("Hello world!")
```

**메서드 호출**

```jsx
console.log("hello")
```

**생성자**

```jsx
new Date()
```

**표현식**

```jsx
// 변수 참조
y

// 속성 참조
user.first_name

// 배열 참조
stack[0]
```

**상태**

```jsx
// 값 할당
z = 3;

// 속성 삭제
delete user.first_name;
```
